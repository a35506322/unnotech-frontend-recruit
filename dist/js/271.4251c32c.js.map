{"version":3,"file":"js/271.4251c32c.js","mappings":"+NACOA,MAAM,oD,GASNA,MAAM,O,GACJA,MAAM,U,GACTC,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GACDD,MAAM,oB,GAETA,MAAM,U,GACTC,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GACDD,MAAM,oB,GAETA,MAAM,U,GACTC,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GACJD,MAAM,W,sHApBbC,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJA,EAAAA,EAAAA,GAAyB,WAAAC,EAAAA,EAAAA,IAAlBC,EAAAA,KAAKC,OAAK,IACjBC,EAAAA,EAAAA,IAKcC,EAAA,CAJVC,KAAK,sBACLC,MAAM,KACNR,MAAM,oCACDS,QAAOC,EAAAA,iBAJhB,uBAOFT,EAAAA,EAAAA,GAaM,MAbN,EAaM,EAZJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJU,GACAV,EAAAA,EAAAA,GAAuD,OAAvD,GAAuDC,EAAAA,EAAAA,IAApBC,EAAAA,KAAKC,OAAK,MAE/CH,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJW,GACAX,EAAAA,EAAAA,GAAwD,OAAxD,GAAwDC,EAAAA,EAAAA,IAArBC,EAAAA,KAAKU,QAAM,MAEhDZ,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJa,GACAb,EAAAA,EAAAA,GAA8C,IAA9C,GAA8CC,EAAAA,EAAAA,IAAvBC,EAAAA,KAAKY,aAAW,QAG3CV,EAAAA,EAAAA,IACkEW,EAAA,CADpDC,IAAI,cAAqB,UAAQ,EAAYC,WAAWR,EAAAA,eAC/D,aAAYP,EAAAA,QAAgBgB,SAAUhB,EAAAA,MAD7C,oD,wBClBK,SAASiB,EAAoCC,EAAQC,GAE1D,IAAIC,EAAS,GAQb,OAPAC,OAAOC,KAAKJ,GAAQK,SAASC,IACvBH,OAAOI,UAAUC,eAAeC,KAAKR,EAAQK,IAC3CN,EAAOM,KAASL,EAAOK,KACzBJ,EAAOI,GAAOL,EAAOK,OAIpBJ,EDkBT,OACEQ,WAAY,CACV,eAAgBC,EAAAA,GAElBC,OACE,MAAO,CACLC,KAAM,GACNC,SAAS,IAGbC,UACEC,KAAKC,WAEPC,QAAS,CACPC,gBACE,MAAMC,QAAiBH,EAAAA,EAAAA,IAAQD,KAAKK,OAAOC,OAAOC,IAAIC,MAAMC,GAAQA,IAC5C,MAApBL,EAASM,SAGbV,KAAKH,KAAOO,EAASR,OAEvBe,kBACEX,KAAKY,MAAMjB,YAAYkB,QAEzBV,qBAAqBW,GACnB,MAAMC,EAAchC,EAAoCiB,KAAKH,KAAMiB,GACnEd,KAAKF,SAAU,EACf,MAAMM,QAAiBY,EAAAA,EAAAA,IAAWhB,KAAKK,OAAOC,OAAOC,GAAIQ,GAAaP,MAAMC,GAAQA,IAC5D,MAApBL,EAASM,QAIbV,KAAKiB,OAAOC,IAAI,CACdC,SAAU,UAAWC,QAAS,OAAQC,OAAQ,GAAIC,KAAM,YAEpDtB,KAAKC,UACXD,KAAKF,SAAU,EACfE,KAAKY,MAAMjB,YAAY4B,SARrBvB,KAAKF,SAAU,K,QE1DvB,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://unnotech-frontend-recruit/./src/views/BookDetailPage.vue","webpack://unnotech-frontend-recruit/./src/methods/common.js","webpack://unnotech-frontend-recruit/./src/views/BookDetailPage.vue?5acd"],"sourcesContent":["<template>\n  <div class=\"d-flex justify-content-center align-items-center\">\n    <h1>{{ book.title }}</h1>\n    <p-button\n        icon=\"bi bi-pencil-square\"\n        label=\"編輯\"\n        class=\"p-button-success p-button-lg ml-2\"\n        v-on:click=\"openCommandBook\"\n      ></p-button>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <h2>名稱：</h2>\n      <span class=\"p-fluid text-2xl\" >{{ book.title }}</span>\n    </div>\n    <div class=\"col-12\">\n      <h2>作者：</h2>\n      <span class=\"p-fluid text-2xl\" >{{ book.author }}</span>\n    </div>\n    <div class=\"col-12\">\n      <h2>備註：</h2>\n      <p class=\"text-lg\" >{{ book.description }}</p>\n    </div>\n  </div>\n  <command-book ref=\"commandBook\" v-bind:is-new=\"false\" v-on:save-item=\"saveUpdateBook\"\n  v-bind:is-loading=\"loading\" v-bind:tempItem=\"book\"></command-book>\n</template>\n\n<script>\n// eslint-disable-next-line import/no-cycle\nimport { getBook, updateBook } from '@/apis/SystemApi';\nimport commandBook from '@/components/CommandBook.vue';\nimport { compareObjectDifferentialProperties } from '@/methods/common';\n\nexport default {\n  components: {\n    'command-book': commandBook,\n  },\n  data() {\n    return {\n      book: {},\n      loading: false,\n    };\n  },\n  mounted() {\n    this.getBook();\n  },\n  methods: {\n    async getBook() {\n      const response = await getBook(this.$route.params.id).then((res) => res);\n      if (response.status !== 200) {\n        return;\n      }\n      this.book = response.data;\n    },\n    openCommandBook() {\n      this.$refs.commandBook.show();\n    },\n    async saveUpdateBook(newBook) {\n      const compareBook = compareObjectDifferentialProperties(this.book, newBook);\n      this.loading = true;\n      const response = await updateBook(this.$route.params.id, compareBook).then((res) => res);\n      if (response.status !== 200) {\n        this.loading = false;\n        return;\n      }\n      this.$toast.add({\n        severity: 'success', summary: '修改成功', detail: '', life: 3000,\n      });\n      await this.getBook();\n      this.loading = false;\n      this.$refs.commandBook.close();\n    },\n  },\n};\n</script>\n","/**\n * 比較兩物件差異屬性\n * @param {*} oldObj 舊物件\n * @param {*} newObj 新物件\n * @returns 差異物件\n */\nexport function compareObjectDifferentialProperties(oldObj, newObj) {\n  // eslint-disable-next-line prefer-const\n  let result = {};\n  Object.keys(oldObj).forEach((key) => {\n    if (Object.prototype.hasOwnProperty.call(newObj, key)) {\n      if (oldObj[key] !== newObj[key]) {\n        result[key] = newObj[key];\n      }\n    }\n  });\n  return result;\n}\n","import { render } from \"./BookDetailPage.vue?vue&type=template&id=0845b860\"\nimport script from \"./BookDetailPage.vue?vue&type=script&lang=js\"\nexport * from \"./BookDetailPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\莊理竣\\\\OneDrive\\\\桌面\\\\unnotech-frontend-recruit\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_toDisplayString","$data","title","_createVNode","_component_p_button","icon","label","onClick","$options","_hoisted_4","_hoisted_7","author","_hoisted_10","description","_component_command_book","ref","onSaveItem","tempItem","compareObjectDifferentialProperties","oldObj","newObj","result","Object","keys","forEach","key","prototype","hasOwnProperty","call","components","commandBook","data","book","loading","mounted","this","getBook","methods","async","response","$route","params","id","then","res","status","openCommandBook","$refs","show","newBook","compareBook","updateBook","$toast","add","severity","summary","detail","life","close","__exports__","render"],"sourceRoot":""}